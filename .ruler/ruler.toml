# Ruler Configuration File
# Frontend Common Ruleset Base Configuration
# See https://ai.intellectronica.net/ruler for documentation.

# Default agents: Cursor, Claude, Codex
default_agents = ["cursor", "claude", "codex"]

# Enable nested rule loading for sub-project specific rules
# Each sub-project can have its own .ruler/ directory
nested = true

# --- Agent Specific Configurations ---

[agents.cursor]
enabled = true
output_path = ".cursor/rules/rules.mdc"
# Cursor custom commands directory
# Commands will be copied to this location when running 'tkhrn-ruler apply'
command_path = ".cursor/commands"

[agents.claude]
enabled = true
output_path = "CLAUDE.md"
# Claude custom commands directory
# Claude Desktop typically uses project root or .claude/ directory
# You can customize this path based on your Claude setup
command_path = ".claude/commands"

[agents.codex]
enabled = true
output_path = "codex.md"
# Codex custom commands directory
# Codex typically uses project root or .codex/ directory
# You can customize this path based on your Codex setup
command_path = ".codex/commands"

# --- MCP Servers ---
# Token values should be defined in .env.mcp.local
# Format: VARNAME=value (one per line)

[mcp]
enabled = true
merge_strategy = "merge"

# Figma MCP Server - Design token extraction and component specs
# Package: figma-developer-mcp (by Framelink)
# Docs: https://www.npmjs.com/package/figma-developer-mcp
# Requires: FIGMA_ACCESS_TOKEN from https://www.figma.com/developers/api#access-tokens
[mcp_servers.figma]
command = "npx"
args = ["-y", "figma-developer-mcp", "--figma-api-key=${FIGMA_ACCESS_TOKEN}", "--stdio"]
env = { FIGMA_ACCESS_TOKEN = "${FIGMA_ACCESS_TOKEN}" }

# Notion MCP Server - Documentation and knowledge base access
# Package: @notionhq/notion-mcp-server (Official Notion)
# Docs: https://github.com/makenotion/notion-mcp-server
# Requires: NOTION_API_KEY (Internal Integration Token) from https://www.notion.so/my-integrations
[mcp_servers.notion]
command = "npx"
args = ["-y", "@notionhq/notion-mcp-server"]
env = { OPENAPI_MCP_HEADERS = "{\"Authorization\": \"Bearer ${NOTION_API_KEY}\", \"Notion-Version\": \"2022-06-28\"}" }

# Playwright MCP Server - Browser automation and E2E testing
# Package: @playwright/mcp (Official Microsoft)
# Docs: https://github.com/microsoft/playwright-mcp
# No additional env required
[mcp_servers.playwright]
command = "npx"
args = ["-y", "@playwright/mcp@latest"]

# Sequential Thinking MCP Server - Complex reasoning and analysis
# Package: @modelcontextprotocol/server-sequential-thinking (Official MCP)
# Docs: https://github.com/modelcontextprotocol/servers/tree/main/src/sequentialthinking
# No additional env required
[mcp_servers.sequential-thinking]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-sequential-thinking"]

# Context7 MCP Server - Library documentation lookup
# Package: @upstash/context7-mcp (by Upstash)
# Docs: https://github.com/upstash/context7
# No additional env required
[mcp_servers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp"]
